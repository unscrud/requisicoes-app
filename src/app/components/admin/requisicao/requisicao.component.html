<div class="col col-lg-12 col-centered">
  <div class="card col-lg-12 col-centered">
    <div class="card-header">
      <h3>
        Minhas Requisições
        <button
          type="button"
          style="margin-right: 0px"
          (click)="add()"
          class="text-right btn btn-outline-info btn-lg"
        >
          <i class="fa fa-plus-circle" aria-hidden="true"></i>
        </button>
      </h3>
    </div>

    <div class="card-body col-lg-12 col-centered"></div>
  </div>
</div>

<p-dialog
  header="Dados da Requisição"
  [style]="{ width: '80vw' }"
  [contentStyle]="{ overflow: 'visible' }"
  [(visible)]="displayDialogRequisicao"
  [responsive]="true"
  [modal]="true"
>
  <form [formGroup]="form" class="p-fluid p-formgrid p-grid" *ngIf="form.value">
    <div class="p-field p-col-12 p-md-12">
      <label for="departamento">Destino*:</label>
      <ng-select
        [items]="departamentos$ | async"
        bindLabel="nome"
        formControlName="destino"
      >
      </ng-select>
    </div>
    <div class="p-field p-col-12 p-md-12">
      <label for="descricao">Descrição*:</label>
      <textarea
        pInputTextarea
        cols="30"
        rows="5"
        formControlName="descricao"
      ></textarea>
    </div>
  </form>

  <div
    *ngIf="form.controls['destino'].errors || form.controls['descricao'].errors"
    class="text-warning text-left"
  >
    *Preenchimento Obrigatório
  </div>

  <div class="p-d-flex p-jc-end">
    <button
      [disabled]="!form.valid"
      type="button"
      class="btn btn-primary"
      (click)="save()"
    >
      <i class="fas check circle"></i> {{ edit ? "Atualizar" : "Salvar" }}
    </button>
  </div>
</p-dialog>
